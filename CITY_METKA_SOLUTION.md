# Решение с метками города (query-параметры)

## Преимущества подхода с метками

Вместо префиксов в URL (`/saratov/index.html`) теперь можно использовать метки через query-параметры (`index.html?city=saratov`).

### ✅ Преимущества:

1. **Не требует настройки сервера** - работает сразу, без `.htaccess`
2. **Проще в использовании** - все страницы остаются на своих местах
3. **Работает с Яндекс Директ** - можно использовать ссылки вида `index.html?city=saratov`
4. **Легко переключаться** - можно выбрать режим в коде

## Как это работает

### Режим 1: Query-параметры (по умолчанию)

**Примеры ссылок:**
- `index.html?city=saratov`
- `remont-stiralnoj-mashiny.html?city=ulyanovsk`
- `remont-holodilnika.html?city=saratov#price`

**Как работает:**
1. Пользователь переходит по ссылке `index.html?city=saratov`
2. JavaScript определяет город из параметра `city`
3. Все номера телефонов заменяются на номера для Саратова
4. Все ссылки на странице получают параметр `?city=saratov`

### Режим 2: Префиксы в пути (требует .htaccess)

**Примеры ссылок:**
- `/saratov/index.html`
- `/ulyanovsk/remont-stiralnoj-mashiny.html`

**Как работает:**
1. Пользователь переходит по ссылке `/saratov/index.html`
2. Сервер (через `.htaccess`) отдает файл `index.html`
3. JavaScript определяет город из пути URL
4. Все номера телефонов заменяются

## Настройка режима

В файле `script.js` найдите строку:

```javascript
const linkMode = 'query'; // 'query' или 'path'
```

- `'query'` - использует метки `?city=saratov` (не требует настройки сервера)
- `'path'` - использует префиксы `/saratov/` (требует `.htaccess`)

## Использование для Яндекс Директ

### С query-параметрами:

**Саратов:**
- Главная: `https://ваш-сайт.ru/index.html?city=saratov`
- Стиралки: `https://ваш-сайт.ru/remont-stiralnoj-mashiny.html?city=saratov`
- Холодильники: `https://ваш-сайт.ru/remont-holodilnika.html?city=saratov`

**Ульяновск:**
- Главная: `https://ваш-сайт.ru/index.html?city=ulyanovsk`
- Стиралки: `https://ваш-сайт.ru/remont-stiralnoj-mashiny.html?city=ulyanovsk`
- Холодильники: `https://ваш-сайт.ru/remont-holodilnika.html?city=ulyanovsk`

### С префиксами в пути:

**Саратов:**
- Главная: `https://ваш-сайт.ru/saratov/index.html`
- Стиралки: `https://ваш-сайт.ru/saratov/remont-stiralnoj-mashiny.html`

**Ульяновск:**
- Главная: `https://ваш-сайт.ru/ulyanovsk/index.html`
- Стиралки: `https://ваш-сайт.ru/ulyanovsk/remont-stiralnoj-mashiny.html`

## Какой режим выбрать?

### Используйте `query` (метки), если:
- ✅ Не хотите настраивать сервер
- ✅ Нужно быстро запустить
- ✅ Хотите простое решение

### Используйте `path` (префиксы), если:
- ✅ Хотите красивые URL для SEO
- ✅ Можете настроить сервер (`.htaccess`)
- ✅ Нужны URL без параметров

## Проверка работы

1. Откройте в браузере: `index.html?city=saratov`
   - Номера телефонов должны быть для Саратова: `+7 (958) 563-51-81`
   - Все ссылки должны иметь `?city=saratov`

2. Откройте: `remont-stiralnoj-mashiny.html?city=ulyanovsk`
   - Номера телефонов должны быть для Ульяновска: `+7 (984) 500-48-30`
   - Все ссылки должны иметь `?city=ulyanovsk`

3. Перейдите по любой ссылке на странице
   - Параметр `city` должен сохраниться
   - Номера телефонов должны остаться правильными

## Важные замечания

1. **Сохранение города**: Город сохраняется в `localStorage`, поэтому при переходе на страницу без параметра `city` будет использован сохраненный город.

2. **Приоритет определения города:**
   - Сначала проверяется query-параметр `?city=`
   - Потом проверяется префикс в пути `/city/`
   - Затем проверяется `localStorage`
   - В конце используется город по умолчанию

3. **Очистка**: Чтобы сбросить сохраненный город:
   ```javascript
   localStorage.removeItem('selectedCity');
   ```

